<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Doing your best on the web - Ian McNally</title>
    <meta name="description" content="Web development best practices, by Ian McNally">
    <meta name="author" content="Ian McNally">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/black.css" id="theme">
    <link rel="stylesheet" href="lib/css/zenburn.css">
    <!-- Printing and PDF exports -->
    <script>
      var link = document.createElement( 'link' );
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
      document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>
    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
  </head>
  <body>
    <main class="reveal">
      <h4>Front end best practices. Ian McNally.</h4>
      <div class="slides">

        <!-- Start editing -->

        <section>
          <h3>Front end best practices.</h3>
          <p>Borrowed, re-used, recycled knowledge from people I’ve worked with or read.</p>
          <p><small>Ian McNally | http://ianmcnally.me | @_ianmcnally</small>
        </section>

        <!-- CSS -->

        <section>
          <h2>Styles</h2>

          <section>
            <p>Includes CSS and Sass (noted on each slide).</p>
          </section>

          <section>
            <h3>Property animation</h3>
            <p>
              There are three cycles a browser goes through when a CSS property changes: layout, paint and composite. Performing them all is expensive.
            </p>
            <p>
              Animating should only be on `transform` and `opacity`, since they only trigger compositing.
            </p>
            <small>See <a href="http://csstrigger.com">csstriggers.com</a></small>
          </section>

          <section>
            <h3>Don't overqualify selectors</h3>
            <p>Tags are overkill, so instead of targeting `div.some-class`, just use the class: `.some-class`.</p>
          </section>

          <section>
            <h3>Keep nesting <= 3 levels</h3>
            <p>Too much nesting in Sass creates long, over-qualified selectors. A good rule of thumb is to go no deeper than three levels, i.e.,</p>
            <pre><code data-trim contenteditable class="css">
.class {
  .child-one {
    .link {
      color: pink;
    }
  }
}
            </code></pre>
            <small>Sass</small>
          </section>

          <section>
            <h3>Turn off user-select on button wrapper</h3>
            <p>If you've got a container wrapping buttons, and the user clicks that container, not the button, you'll get a blue highlight:
            </p>
            <!-- TODO: add image -->
            <p>Turn it off:</p>
            <pre><code data-trim contenteditable class="css">
.container {
  user-select: none;
}
            </code></pre>
          </section>

          <section>
            <h3>Some selectors are faster than others</h3>
            <p>Class lookup is the fastest. Complicated selectors like:</p>
            <pre><code data-trim contenteditable class="css">
.thing + .child-thing:nth-of-type:not(.other-things) {
  // ... :(
}
            </code></pre>
            <p>Can take <i>real</i> time</p>
          </section>

          <section>
            <h3>Use relative units</h3>
            <p>Using REMs or EMs means sizing will adjust with font-scaling and on mobile devices. It's also an accessibility win.</p>
            <!-- TODO: explain REMs and EMs ? -->
          </section>

          <section>
            <h3>Organize your style</h3>
            <p>Using a methology, be it BEM, Suit, or any other, will help keep styles maintainable as your codebase scales.</p>
            <!-- TODO: link to BEM, Suit -->
          </section>

          <section>
            <h3>Scope styles</h3>
            <p>If you're not using BEM, Suit or another convention, each module/component/widget's styles should be contained in a style block</p>
            <pre><code class="css" contenteditable data-trim>
.container{
  .container-item {
    // ...
  }
}
            </code></pre>
            <small>Sass</small>
          </section>

          <section>
            <h3>Get hip to Flexbox</h3>
            <p>Flexible layouts are the present and future. You can use it for grids, layouts and components. Stop floating; start flexing.</p>
            <!-- TODO: intro flex? -->
          </section>

          <section>
            <h3>Resist !important</h3>
            <p>Adding !important after a rule will override any other rules, regardless of specificity. If you find yourself using it, you probably have a scope issue. Try refactoring your selectors first.</p>
          </section>

          <section>
            <h3>Sass @imports</h3>
            <p>Sass can import other Sass files, which is very handy for variables and constants. If you're importing other rules and styles into multiple files, you're creating duplicate code.</p>
            <p>Import all your files into `main.sass`, and compile it to one file at main.css*</p>
            <small>Sass</small>
            <small>* If your app is online-only you can get away with separating styles by page or entry-point.</small>
          </section>

          <section>
            <h3>Use mixins responsibly</h3>
            <p>Mixins can help, but be mindful of the generated CSS. It can create a lot of rules.</p>
            <small>Sass</small>
          </section>

          <section>
            <h3>Automate browser prefixing</h3>
            <p>Use a tool to handle browser prefixing for you. See autoprefixer or prefix-free</p>
            <!-- TODO: link. explain diff? -->
          </section>

          <section>
            <h3>Use modular styles</h3>
            <p>Break components out into their own style sheets. Import them into a master file.</p>
          </section>

          <section>
            <h3>0 means zero units</h3>
            <p>If a properties should be zero, like `margin: 0`, don't put a unit like `px` on it. Just zero. Trust.</p>
          </section>

          <section>
            <h3>Line-height is a unit-less number</h3>
            <p>Use unit-less numbers for line height. It's a multiplier of the font size.</p>
          </section>

          <section>
            <h3>Smooth out browser defaults</h3>
            <p>Use normalize.css to make every browser's default styles the same.</p>
            <!-- TODO: link -->
          </section>

          <section>
            <h3>Establish a verticle rhythm</h3>
            <p>
              If your site doesn't have standard sizes for headings and paragraphs, make them.
            </p>
            <p><a href="https://drewish.com/tools/vertical-rhythm/">Vertical rhythm generator</a></p>
          </section>

          <section>
            <h3>The C is for cascade</h3>
            <p>Style rules cascade. Early rules preceed later ones in specifity.</p>
            <!-- TODO: ? -->
          </section>

          <section>
            <h3>Use border box sizing</h3>
            <p>With box sizing set to border box, margin and padding are considered when calculating the element's size. The default, content-box, does not.</p>
          </section>

          <section>
            <h3>Pseudo-classes are great</h3>
            <p>`:before`, `:after`, `:checked`, `:valid` will make your life easier and reduce your dependency on javascript.</p>
          </section>

          <section>
            <h3>Use variables</h3>
            <p>Make refactoring easier. Let everyone else forget that white may be `#FFF` or `#DDD`. They just know `$white`.</p>
            <pre><code class="css" contenteditable data-trim>
$white: #FFF;

// in another file

.container {
  background-color: $white;
}
            </code></pre>
            <small>Sass</small>
          </section>

          <section>
            <h3>Font-face, with fallbacks</h3>
            <p>To define custom fonts, user @font-face. Also provide fallbacks for when fonts load later or not at all.</p>
          </section>

          <!-- style -->

          <section>
            <p>My personal CSS rules.</p>
          </section>

          <section>
            <h3>Dashes in class name</h3>
            <pre><code class="css" contenteditable data-trim>
.like-this {}

// not

.noWay {}

.not_a_chance {}
            </code></pre>
          </section>

          <section>
            <h3>Omit leading zeros</h3>
            <pre><code class="css" contenteditable data-trim>
animation-duration: .25s // the magic number

// not

animation-duration: 0.25s
            </code></pre>
          </section>

        </section>

        <!-- HTML -->

        <section>
          <h2>HTML</h2>

          <section>
            <h3>Tie labels to inputs</h3>
            <p>I want to click the words next to the input. HTML gives you that for free. Leverage it!</p>
            <small><i>Side note: label is not a replacement for span</i></small>
          </section>

          <section>
            <h3>Roles</h3>
            <p>Use roles for non-semantic elements</p>
            <pre><code class="html" data-trim>
<fieldset>
  <legend></legend>
</fieldset>

<!-- Or, if you need to style them, you need to use other elements: -->

<section role="group" aria-labelledby="this-header">
  <h3 id="this-header"></h3>
</section>
            </code></pre>
            <h4>See also:</h4>
            <p><small><a href="http://html5doctor.com/on-html-belts-and-aria-brace">Implied aria roles</a></small></p>
            <p><small><a href="http://www.w3.org/TR/wai-aria/roles#role_definitions">Defined roles</a></small></p>
          </section>

          <section>
            <h3>Make it accessible</h3>
            <p>Use aria labels, semantic markup, and ensure you make the <a href="http://www.w3.org/TR/WCAG10/full-checklist.html">checklist</a></p>
          </section>

          <section>
            <h3>Be semantic</h3>
            <p>Use the correct elements. Each tag should suit its purpose.</p>
          </section>

          <section>
            <h3>Omit types</h3>
            <p>In script and stylesheet tags, you can omit type="" in HTML5.</p>
          </section>

          <section>
            <h3>Load files asynchronously</h3>
            <p>Only allow blocking scripts when necessary. Use `async` and `defer` tags when possible, and move script tags out of the head.</p>
          </section>

          <section>
            <h3>Use HTML5</h3>
            <p>Nuff said?</p>
          </section>

          <section>
            <h3>Don't use HTML for style</h3>
            <p>
              Instead of using a `br`, add some margin or padding in CSS.
            </p>
            <p>
              HTML describes the structure, not the presentation.
            </p>
          </section>

          <section>
            <h3>No tables</h3>
            <p>Is it tabular data? Maybe. Just for a layout? Please don't.</p>
          </section>

          <section>
            <h3>Inline styles?</h3>
            <p>They're the worst. Throw styles in a stylesheet.</p>
          </section>

          <section>
            <h3>Meta tags are good for search engines</h3>
            <p>Allow your site to shine on search engineers and social media posts. Use `meta` tags.</p>
          </section>

          <section>
            <h3>Close tags</h3>
            <p>Unclosed tags can cause bugs that are hard to track down. Some self close, some need closing tags. Either way, shut. it. down.</p>
          </section>

          <section>
            <h3>Responsive images</h3>
            <p>Use the `picture` element, with `img` fallbacks for images. It'll save bandwidth on slower connections and allow higher resolutions for retina screens.</p>
          </section>

          <section>
            <h3>Write for modern browsers</h3>
            <p>Don't punish up-to-date users. Progressively enhance your site or use shims to start using the latest and greatest.</p>
          </section>

          <!-- style -->

          <section>
            <p>My style preferences.</p>
          </section>

          <section>
            <h3>Lower case</h3>
            <p>Lower cases tags and attributes</p>
          </section>

          <section>
            <h3>Quotes</h3>
            <p>Quote attribute values. Double quotes preferred.</p>
          </section>

        <!-- / HTML -->

        </section>

        <!-- Javascript -->

        <section>
          <h2>Javascript</h2>

          <section></section>

          <section>
            <h3>No globals</h3>
            <p>By default, Javascript sets variables on the global scope. In the browser, this is the window object. You function scopes for encapsulation, a module loader, or a transpiler (ES6, Coffeescript) that will automatically scope modules.</p>
            <!-- TODO: explain this better -->
          </section>

          <section>
            <h3>Don't store data in the DOM</h3>
            <p>Like hidden divs with values. It's very 1990s.</p>
          </section>

          <section>
            <h3>Be consistent in naming standards</h3>
            <ul>
              <li>UpperCase for constructors, models, classes, factories, controllers</li>
              <li>lowerCase for services and most variables</li>
              <li>ALL_CAPS for constants</li>
            </ul>
          </section>

          <section>
            <h3>Triple equals for equality</h3>
            <p>Avoid implicit type conversion with double equals. `===` or bust.</p>
          </section>

          <section>
            <h3>Be prudent when choosing switch statements</h3>
            <p>There are usually other ways to achieve isomorphic code. But switches are great for multiple cases.</p>
            <p>If you do use one, it's best practice to just set a variable. Also break on every case besides default. Also, don't return in a case statement.</p>
            <!-- TODO: cite why break -->
            <pre><code class="javascript" data-trim contenteditable>
var chosenValue;

switch (someValue) {
  case 'one-thing':
  case 'another-thing':
    chosenValue = 1;
    break;
  case 'third-thing':
    chosenValue = 2;
    break;
  case default:
    chosenValue = 0;
}

return chosenValue;
            </code></pre>
          </section>

          <section>
            <h3>Use simple constructors</h3>
            <p>`[]` not new Array()</p>
            <!-- TODO: better title. cite why. -->
          </section>

          <section>
            <h3>Use dot notation on objects</h3>
            <p>... except when it's not possible.</p>
            <pre><code class="javascript" contenteditable data-trim>
var object = {
  dottableKey: 100,
  not-dottable-key-why-do-this: -1000
};

// Good
object.dottableKey
object['not-dottable-key-why-do-this']

// Bad
object['dottableKey']

// Impossible
object.not-dottable-key-why-do-this
            </code></pre>
          </section>

          <section>
            <h3>Store loop length</h3>
            <p>It's a debatable optimization, but you'll feel better about yourself if you store an array length before iterating over it.</p>
            <pre><code class="javascript" contenteditable data-trim>
var numbers = [1, 2, 3];

for (var i = 0, l = numbers.length; i < l; i++) {
  // ...
}
            </code></pre>
          </section>

          <section>
            <h3>Libraries are your friend</h3>
            <p>Don't try to reinvent the wheel. There are several libraries that fill in the gaps left in the language. Libraries like lodash, underscore and moment have great APIs and are well tested.</p>
          </section>

          <section>
            <h3>Avoid document.write</h3>
            <p>document.write(), if called at the wrong time, can completely wipe out the DOM. Forget its name.</p>
            <!-- TODO: cite -->
          </section>

          <section>
            <h3>Use friendly type conversion</h3>
            <p>Forget parseInt() and !!. Use Number(), Boolean() or String() to do type conversion.</p>
            <pre><code class="javascript" contenteditable data-trim>
Number('3.14159');
Boolean([1]);
String(500);
            </code></pre>
          </section>

          <section>
            <h3>Avoid manual optimization</h3>
            <p>There's a whole level of parsing a browser does, so don't sweat variable names, for vs while loops and the like.</p>
            <!-- TODO: cite -->
          </section>

          <section>
            <h3>Event listeners trickle up</h3>
            <p>You can set event listeners on parents, instead of multiple child elements. It'll make scaling and memory management much easier.</p>
          </section>

          <section>
            <h3>The event loop</h3>
            <a href="https://www.youtube.com/watch?v=8aGhZQkoFbQ">Event loops</a>
            <p>Get to know how the javascript event loops. That video may change your life.</p>
            <p>For instance, getting expensive tasks out of the way (like DOM manipulation) will positively effect performance.</p>
          </section>

          <section>
            <h3>Leave console.log to dev</h3>
            <p>console.log() is a helpful debugging tool, but it's known to crash older browsers. It's also generally ugly in a production app.</p>
          </section>

          <section>
            <h3>Analytics and logging</h3>
            <p>Use metrics to see how users are using your product, and to see any errors in production.</p>
          </section>

          <!-- style -->

          <section>
            <p>My style preferences.</p>
          </section>

          <section>
            <h3>No double quotes</h3>
            <pre><code class="javascript" data-trim contenteditable>
// Good
var greeting = 'hey there!';
var response = 'what\'s up';
var question = 'he is on a "diet"?'

// Bad
var greeting = "Hey there!";
var response = "what's up?";
var question = "he is on a \"diet\"?"
            </code></pre>
          </section>

          <section>
            <h3>Multiple variable declarations</h3>
            <pre><code class="javascript" contenteditable data-trim>
// Good
var a = 1;
var b = 2;

// Bad
var a = 1, b = 2;
            </code></pre>
          </section>

          <section>
            <h3>Space in colon assignments</h3>
            <p>Though it may feel weird at first, I prefer {this : 'assignment'} to {this: 'assignment'}. It maintains parity with equals sign assignment.</p>
            <pre><code class="javascript" contenteditable data-trim>
// Good
{bicycling : 'everywhere'}

// Bad
{cars: 'in cities'}
            </code></pre>
          </section>

          <section>
            <h3>"Private" class methods have a leading underscore</h3>
            <pre><code class="javascript" contenteditable data-trim>
// ES6

class TheBeatles {

  constructor (year) {
    this.year = year;
    this.drummer = this._getDrummer();
  }

  _getDrummer () {
    return (this.year < 1962) ? 'Pete Best' : 'Ringo Starr';
  }

}
            </code></pre>
          </section>

          <section>
            <h3>Start boolean variables with 'is'</h3>
            <pre><code class="javascript" contenteditable data-trim>
// Good
var isYummy = 'chocolate' in food;

// Bad
var yummyFood = 'chocolate' in food;
            </code></pre>
          </section>


        <!-- / Javascript -->
        </section>

        <!-- Application building -->

        <section>
          <h2>Application build</h2>

          <section>
            <h3>Good URLs</h3>
            <p>Your application's URLs should be predictable and expressive.</p>
            <p><a href="http://warpspire.com/posts/url-design/">URL design</a></p>
          </section>

          <section>
            <h3>Compress production code</h3>
            <p>Minification, concatentation and gzip will save users time and data, and save your project money. Win win!</p>
          </section>

          <section>
            <h3>Care about load times</h3>
            <p>How's your site's <a href="https://developers.google.com/speed/pagespeed/">page speed</a>?</p>
            <p>Us developers have the luxury of 30" screens and T1 data speeds. Try using EDGE on a limited data plan. It will humble you.</p>
          </section>

          <section>
            <h3>Care about performance</h3>
            <p>Does your app run at 60fps? Does it make only a few API round trips?</p>
            <!-- TODO: rephrase? -->
          </section>

          <section>
            <h3>Check for features, not user agents</h3>
            <p>Libraries like Modernizr test for features. This is much more reliable and future-proof and testing what device a user has (which will always become out of date) and modifying their experience.</p>
            <!-- TODO: cite -->
          </section>

          <section>
            <h3>Cache files</h3>
            <p>Set caching headers on your assets to advise the browser to hang on to them.</p>
          </section>

          <section>
            <h3>Offline capabilities</h3>
            <p>Using the application cache to store assets will make your site offline capable. It's a huge usability win, and quirks aside, it's easy to setup.</p>
          </section>

          <section>
            <h3>Less HTTP requests</h3>
            <p>Reduce HTTP requests by concatenating assets. Less trips over the wire mean less points of failure.</p>
          </section>

        </section>

        <!-- / Application building -->

        <!-- Project maintenance -->

        <section>
          <h2>Maintaining a project</h2>

          <section>
            <h3>Use dependency managers</h3>
            <p>npm, bower, bundler + Gemfile</p>
            <p>Make it easy to see dependencies and make changes.</p>
          </section>

          <section>
            <h3>Automate everything</h3>
            <p>Builds, terminal commands and other repeated processes should be automated.</p>
            <small>See: grunt, gulp, rake, cake, make</small>
          </section>

          <section>
            <h3>Write good READMEs</h3>
            <p>Make setup and maintenance of a project smooth. Document the app where it lives.</p>
          </section>

          <section>
            <h3>SPIKES</h3>
            <p>SPIKES are research sessions for new technology or processes.</p>
            <p>Compare a few top choices, write about the pros and cons, and get feedback.</p>
          </section>

        </section>

        <!-- Learning -->

        <section>
          <h2>Learning</h2>
          <p>Some useful resource for leveling up.</p>

          <ul>
            <li><a href="https://www.udacity.com/course/viewer#!/c-ud860/l-4138328558/m-4157078575">Browser rendering optimization on udacity</a></li>
            <li>Responsible Responsive Design by Scott Jehl</li>
            <li><a href="https://speakerdeck.com/jonrohan/githubs-css-performance">CSS Performance</a></li>
          </ul>
        </section>

        <!-- Testing -->

        <section>
          <h2>Testing</h2>

          <section>
            <h3>Unit and acceptance tests</h3>
            <p>Test as much as you can with unit and acceptance tests. They're fast and reliable. Save the functional tests for quick passes.</p>
            <small>See jasmine, karma, PhantomJS, Mocha</small>
            <!-- TODO: links -->
          </section>

          <section>
            <h3>Short feedback cycle</h3>
            <p>Whether it's running tests, or seeing your changes locally, make sure the feedback cycle is short.</p>
          </section>

          <section>
            <h3>Test code output</h3>
            <p>Assert that the output of your code (what it actually does), not what functions it may call.</p>
            <p>Refactoring will be much easier.</p>
          </section>

          <section>
            <h3>Multiple browsers</h3>
            <p>View your work in multiple browsers and OSes.</p>
            <p>There'll always be a difference.</p>
          </section>

          <section>
            <h3>Check mobile performance</h3>
            <p>Test your animations and heavy DOM work on mobile devices. Performance can vary.</p>
          </section>

        </section>

        <!-- Infrastructure -->

        <section>
          <h2>Infrastructure</h2>

          <section>
            <h3>Logging</h3>
            <p>Log errors and make them archivable and searchable</p>
          </section>

          <section>
            <h3>Storing user information</h3>
            <p>Unless absolutely necessary, avoid storing user information.</p>
          </section>

        </section>

        <!-- Code quality and knowledge sharing -->

        <section>
          <h2>Code quality and knowledge sharing</h2>

          <section>
            <h3>Share knowledge across your team</h3>
            <p>Remove knowledge silos. Pair programming and/or community-style code reviews are a great way to get multiples eyes on the same code.</p>
            <p>A great side-effect is increased social interactions and communication between teammates.</p>
          </section>

          <section>
            <h3>Code review decorum</h3>
            <p>There are plenty of dos and donts of code reviews.</p>
            <p><a href="http://alistapart.com/article/running-code-reviews-with-confidence
">Code Reviews with Confidence</a></p>
          </section>

          <section>
            <h3>Enforce code style</h3>
            <p>Save code reviews from nitpicks, and make conformity and enforcement easy.</p>
            <small>See JSCS, JSHint, SCSSLint</small>
          </section>

          <section>
            <h3>Be consistent</h3>
            <p>“All code in any code-base should look like a single person typed it, no matter how many people contributed.” – Principles of Writing Consistent, Idiomatic JavaScript</p>
          </section>

          <section>
            <h3>Documentation</h3>
            <p>Comments are okay. Self-documenting code is better. Don't be afraid to store a variable if it can describe what you're doing better.</p>
            <p>Also, make sure your code is readable in the first place.</p>
          </section>

          <section>
            <h3>Tabs or spaces</h3>
            <p>Let the flames wars begin! I like spaces, but that's just me. Regardless, make sure it's sorted out in your project.</p>
          </section>

        </section>

        <!-- / code quality and knowledge -->

        <!-- You, the developer -->

        <section>
          <h2>You, the developer</h2>

          <section>
            <h3>Get good at writing</h3>
            <p>Choose an IDE or text editor, and stick to it. Get fast and know your keyboard shortcuts. It'll pay off.</p>
          </section>

          <section>
            <h3>Be comfortable</h3>
            <p>Typing, sitting or standing can take a toll on you. Get the right equipment, don't "tough it out".</p>
          </section>

        </section>


        <!-- End editing -->

      </div>
    </main>
    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.js"></script>
    <script>
      Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,
        transition: 'slide',
        dependencies: [
          { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
          { src: 'plugin/zoom-js/zoom.js', async: true },
          { src: 'plugin/notes/notes.js', async: true }
        ]
      });
    </script>
  </body>
</html>
